/* Build-: begin.js bootstrap.js connector/additional.js connector/crypt.js connector/json.js connector/store.js connector/oauth.js connector/communicator.js api/APIBase.js api/user.js api/currentUser.js api/status.js api/directMessage.js api/search.js api/statusNet.js api/eventManager.js widgets/widget.js widgets/hovercard.js widgets/followButton.js widgets/connectButton.js end.js  */
var net={};net.status={};net.status.js={};var scripts=document.getElementsByTagName("script");var resourceBase="";for(var i=0;i<scripts.length;i++){var src=scripts[i].getAttribute("src");if(src!=null&&(src.indexOf(".js#resource_base")>0)){resourceBase=src.replace(/(.)+js#resource_base=/,"");break}}if(resourceBase==""){resourceBase="<?php echo $this->resource_base;?>"}net.status.js.RESOURCE_BASE=resourceBase;net.status.js.PROXY=net.status.js.RESOURCE_BASE+"/proxy.php";function ExternalLoader(b){this.resourceBase=b;this.js=function(c){var e=document.getElementsByTagName("HEAD").item(0);var d=document.createElement("script");d.type="text/javascript";d.src=this.resourceBase+"/"+c;e.appendChild(d)};this.css=function(c){var e=document.getElementsByTagName("HEAD").item(0);var d=document.createElement("link");d.rel="stylesheet";d.type="text/css";d.href=this.resourceBase+"/"+c;e.appendChild(d)};function a(c){return this.resourceBase+"/"+c}}var externalLoader=new ExternalLoader(net.status.js.RESOURCE_BASE);if(typeof jQuery=="undefined"){externalLoader.js("jquery-1.4.2.min.js")}externalLoader.css("statusnet-js-api.css");
/*
 * Crypto-JS v2.0.0
 * http://code.google.com/p/crypto-js/
 * Copyright (c) 2009, Jeff Mott. All rights reserved.
 * http://code.google.com/p/crypto-js/wiki/License
 */
(function(){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var d=window.Crypto={};var a=d.util={rotl:function(h,g){return(h<<g)|(h>>>(32-g))},rotr:function(h,g){return(h<<(32-g))|(h>>>g)},endian:function(h){if(h.constructor==Number){return a.rotl(h,8)&16711935|a.rotl(h,24)&4278255360}for(var g=0;g<h.length;g++){h[g]=a.endian(h[g])}return h},randomBytes:function(h){for(var g=[];h>0;h--){g.push(Math.floor(Math.random()*256))}return g},bytesToWords:function(h){for(var k=[],j=0,g=0;j<h.length;j++,g+=8){k[g>>>5]|=h[j]<<(24-g%32)}return k},wordsToBytes:function(j){for(var h=[],g=0;g<j.length*32;g+=8){h.push((j[g>>>5]>>>(24-g%32))&255)}return h},bytesToHex:function(g){for(var j=[],h=0;h<g.length;h++){j.push((g[h]>>>4).toString(16));j.push((g[h]&15).toString(16))}return j.join("")},hexToBytes:function(h){for(var g=[],j=0;j<h.length;j+=2){g.push(parseInt(h.substr(j,2),16))}return g},bytesToBase64:function(h){if(typeof btoa=="function"){return btoa(e.bytesToString(h))}for(var g=[],l=0;l<h.length;l+=3){var n=(h[l]<<16)|(h[l+1]<<8)|h[l+2];for(var k=0;k<4;k++){if(l*8+k*6<=h.length*8){g.push(c.charAt((n>>>6*(3-k))&63))}else{g.push("=")}}}return g.join("")},base64ToBytes:function(h){if(typeof atob=="function"){return e.stringToBytes(atob(h))}h=h.replace(/[^A-Z0-9+\/]/ig,"");for(var g=[],j=0,k=0;j<h.length;k=++j%4){if(k==0){continue}g.push(((c.indexOf(h.charAt(j-1))&(Math.pow(2,-2*k+8)-1))<<(k*2))|(c.indexOf(h.charAt(j))>>>(6-k*2)))}return g}};d.mode={};var b=d.charenc={};var f=b.UTF8={stringToBytes:function(g){return e.stringToBytes(unescape(encodeURIComponent(g)))},bytesToString:function(g){return decodeURIComponent(escape(e.bytesToString(g)))}};var e=b.Binary={stringToBytes:function(j){for(var g=[],h=0;h<j.length;h++){g.push(j.charCodeAt(h))}return g},bytesToString:function(g){for(var j=[],h=0;h<g.length;h++){j.push(String.fromCharCode(g[h]))}return j.join("")}}})();
/*
 * Crypto-JS v2.0.0
 * http://code.google.com/p/crypto-js/
 * Copyright (c) 2009, Jeff Mott. All rights reserved.
 * http://code.google.com/p/crypto-js/wiki/License
 */
(function(){var e=Crypto,a=e.util,b=e.charenc,d=b.UTF8,c=b.Binary;e.HMAC=function(l,n,k,h){if(n.constructor==String){n=d.stringToBytes(n)}if(k.constructor==String){k=d.stringToBytes(k)}if(k.length>l._blocksize*4){k=l(k,{asBytes:true})}var g=k.slice(0),o=k.slice(0);for(var j=0;j<l._blocksize*4;j++){g[j]^=92;o[j]^=54}var f=l(g.concat(l(o.concat(n),{asBytes:true})),{asBytes:true});return h&&h.asBytes?f:h&&h.asString?c.bytesToString(f):a.bytesToHex(f)}})();
/*
 * Crypto-JS v2.0.0
 * http://code.google.com/p/crypto-js/
 * Copyright (c) 2009, Jeff Mott. All rights reserved.
 * http://code.google.com/p/crypto-js/wiki/License
 */
(function(){var f=Crypto,a=f.util,b=f.charenc,e=b.UTF8,d=b.Binary;var c=f.SHA1=function(j,g){var h=a.wordsToBytes(c._sha1(j));return g&&g.asBytes?h:g&&g.asString?d.bytesToString(h):a.bytesToHex(h)};c._sha1=function(o){if(o.constructor==String){o=e.stringToBytes(o)}var v=a.bytesToWords(o),x=o.length*8,p=[],r=1732584193,q=-271733879,k=-1732584194,h=271733878,g=-1009589776;v[x>>5]|=128<<(24-x%32);v[((x+64>>>9)<<4)+15]=x;for(var z=0;z<v.length;z+=16){var E=r,D=q,C=k,B=h,A=g;for(var y=0;y<80;y++){if(y<16){p[y]=v[z+y]}else{var u=p[y-3]^p[y-8]^p[y-14]^p[y-16];p[y]=(u<<1)|(u>>>31)}var s=((r<<5)|(r>>>27))+g+(p[y]>>>0)+(y<20?(q&k|~q&h)+1518500249:y<40?(q^k^h)+1859775393:y<60?(q&k|q&h|k&h)-1894007588:(q^k^h)-899497514);g=h;h=k;k=(q<<30)|(q>>>2);q=r;r=s}r+=E;q+=D;k+=C;h+=B;g+=A}return[r,q,k,h,g]};c._blocksize=16})();JSON={useHasOwn:({}.hasOwnProperty?true:false),pad:function(a){return a<10?"0"+a:a},m:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString:function(a){if(/["\\\x00-\x1f]/.test(a)){return'"'+a.replace(/([\x00-\x1f\\"])/g,function(e,d){var f=m[d];if(f){return f}f=d.charCodeAt();return"\\u00"+Math.floor(f/16).toString(16)+(f%16).toString(16)})+'"'}return'"'+a+'"'},encodeArray:function(h){var e=["["],c,g,d=h.length,f;for(g=0;g<d;g+=1){f=h[g];switch(typeof f){case"undefined":case"function":case"unknown":break;default:if(c){e.push(",")}e.push(f===null?"null":this.encode(f));c=true}}e.push("]");return e.join("")},encodeDate:function(a){return'"'+a.getFullYear()+"-"+pad(a.getMonth()+1)+"-"+pad(a.getDate())+"T"+pad(a.getHours())+":"+pad(a.getMinutes())+":"+pad(a.getSeconds())+'"'},encode:function(h){if(typeof h=="undefined"||h===null){return"null"}else{if(h instanceof Array){return this.encodeArray(h)}else{if(h instanceof Date){return this.encodeDate(h)}else{if(typeof h=="string"){return this.encodeString(h)}else{if(typeof h=="number"){return isFinite(h)?String(h):"null"}else{if(typeof h=="boolean"){return String(h)}else{var f=this;var d=["{"],c,g,e;for(g in h){if(!this.useHasOwn||h.hasOwnProperty(g)){e=h[g];switch(typeof e){case"undefined":case"function":case"unknown":break;default:if(c){d.push(",")}d.push(f.encode(g),":",e===null?"null":f.encode(e));c=true}}}d.push("}");return d.join("")}}}}}}},decode:function(json){return eval("("+json+")")}};function Store(b){this.prefix=(b)?b:"";var a=365;this.setToken=function(c){this.cookie(this.prefix+"oauth_token",c,{expires:a,path:"/"})};this.setTokenSecret=function(c){this.cookie(this.prefix+"oauth_token_secret",c,{expires:a,path:"/"})};this.getToken=function(){return this.cookie(this.prefix+"oauth_token")};this.getTokenSecret=function(){return this.cookie(this.prefix+"oauth_token_secret")};this.cookie=function(d,l,p){if(typeof l!="undefined"){p=p||{};if(l===null){l="";p.expires=-1}var g="";if(p.expires&&(typeof p.expires=="number"||p.expires.toUTCString)){var h;if(typeof p.expires=="number"){h=new Date();h.setTime(h.getTime()+(p.expires*24*60*60*1000))}else{h=p.expires}g="; expires="+h.toUTCString()}var o=p.path?"; path="+(p.path):"/";var j=p.domain?"; domain="+(p.domain):"";var c=p.secure?"; secure":"";document.cookie=[d,"=",encodeURIComponent(l),g,o,j,c].join("")}else{var f=undefined;if(document.cookie&&document.cookie!=""){var n=document.cookie.split(";");for(var k=0;k<n.length;k++){var e=n[k].replace(/^\s*/,"").replace(/\s*$/,"");if(e.substring(0,d.length+1)==(d+"=")){f=decodeURIComponent(e.substring(d.length+1));break}}}return f}}}function OAuth(b){var c=b;this.method="GET";this.endpoint;this.oauthParams={oauth_consumer_key:"",oauth_nonce:"",oauth_signature_method:"HMAC-SHA1",oauth_timestamp:"",oauth_token:"",oauth_version:"1.0"};this.consumerSecret;this.init=function(g,f,h){this.oauthParams.oauth_consumer_key=g;this.consumerSecret=f;this.endpoint=h;this.oauthParams.oauth_nonce=a();this.oauthParams.oauth_timestamp=e()};this.getRequestTokenUrl=function(){c.setToken(null);c.setTokenSecret(null);this.refreshOAuthTokens();var f=this.endpoint+"/oauth/request_token";return this.getURL(f)};this.getAuthorizationUrl=function(){var f=this.endpoint+"/oauth/authorize";f+="?oauth_token="+c.getToken();return f};this.getAccessTokenUrl=function(){this.refreshOAuthTokens();var f=this.endpoint+"/oauth/access_token";return this.getURL(f)};this.getAuthorizedMessageUrl=function(g,j,k){var h="callback_"+Math.floor(Math.random()*10000);jQuery.globalEval("var "+h+"="+k);if(!j){j={callback:h}}else{j.callback=h}this.refreshOAuthTokens();var f=this.endpoint+g;return this.getURL(f,j)};this.getRequestAPIUrl=function(j,k,h){this.refreshOAuthTokens();if(h){this.method="POST"}else{this.method="GET"}var g=this.endpoint+j;var f=this.getURL(g,k);return f};var a=function(l){l=l||64;var o=l/8;var n="";var j=o/4;var h=o%4;var k=["20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E"];for(var f=0;f<j;f++){n+=k[g()]+k[g()]+k[g()]+k[g()]}for(var f=0;f<h;f++){n+=k[g()]}return n;function g(){return Math.floor(Math.random()*k.length)}};var e=function(){return parseInt(+new Date/1000)};var d=function(g){var h=[];for(var f in g){h.push(f)}var j=g;g={};h.sort();for(var f=0;f<h.length;f++){g[h[f]]=j[h[f]]}return j};this.toSignatureBaseString=function(h,j){var f=[];var k=d(this.oauthParams);var g=d(j);for(i in k){if(k[i]&&k[i]!=undefined){f.push(OAuthUtilities.urlEncode(i)+"="+OAuthUtilities.urlEncode(k[i]+"").replace(/\+/g,"%20"))}}for(i in g){if(g[i]&&g[i]!=undefined){f.push(OAuthUtilities.urlEncode(i)+"="+OAuthUtilities.urlEncode(g[i]+"").replace(/\+/g,"%20"))}}return[this.method,OAuthUtilities.urlEncode(h),OAuthUtilities.urlEncode(f.sort().join("&"))].join("&")};this.getSignature=function(h,k){var f=OAuthUtilities.urlEncode(this.consumerSecret);var j=OAuthUtilities.urlEncode(c.getTokenSecret()||"");var n=f+"&"+j;var l=this.toSignatureBaseString(h,k);var g=Crypto.HMAC(Crypto.SHA1,l,f+"&"+j,{asBytes:true});return Crypto.util.bytesToBase64(g)};this.getURL=function(h,j){var k=d(this.oauthParams);var g=d(j);var f=this.getSignature(h,g);for(i in g){if(g[i]==undefined){continue}h+="&"+i+"="+OAuthUtilities.urlEncode(""+g[i])}for(i in k){if(k[i]==undefined){continue}h+="&"+i+"="+OAuthUtilities.urlEncode(""+k[i])}h+="&oauth_signature="+OAuthUtilities.urlEncode(f);return h.replace("&","?")};this.refreshOAuthTokens=function(){this.oauthParams.oauth_nonce=a();this.oauthParams.oauth_timestamp=e();this.oauthParams.oauth_token=c.getToken();this.method="GET"}}OAuth.parseToken=function(a){var b=a.split("&");var d={};for(index in b){var c=b[index].split("=");d[c[0]]=c[1]}return d};function OAuthUtilities(){}OAuthUtilities.urlEncode=function(a){a=(a+"").toString();return encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")};OAuthUtilities.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g,"%20"))};net.status.js.Communicator=function(a){this.oauth=a;this.requestAPI=function(b,f,j,k,d,h,c){var e="if("+j+") response=net.status.js.Communicator.buildObject(response,'"+j+"',"+c+");";if(d){e+=d}if(h){var g=(h=="POST")?true:false;this.requestAPIWithAlteredResponseProxy(b,f,k,e,g)}else{this.requestAPIWithAlteredResponse(b,f,k,e)}};this.requestAPIWithAlteredResponse=function(g,e,f,d){if(f){var c=net.status.js.Communicator.createGlobalFunctionWithAlteration(f,d);if(!e){e={callback:c}}else{e.callback=c}}var b=this.oauth.getRequestAPIUrl(g,e);jQuery.getScript(b)};this.requestAPIWithAlteredResponseProxy=function(h,f,g,e,d){var c="";if(g){c=net.status.js.Communicator.createGlobalFunctionWithAlteration(g,e)}var b=this.oauth.getRequestAPIUrl(h,f,d);net.status.js.Communicator.sendJSON(b,c,d)}};net.status.js.Communicator.createGlobalFunction=function(a){var b="callback_"+Math.floor(Math.random()*10000);jQuery.globalEval("var "+b+"="+a);return b};net.status.js.Communicator.createDynamicFunction=function(a){var c="callback_"+Math.floor(Math.random()*10000);var b="function "+c+"(response){"+a+"} ";jQuery.globalEval(b);return c};net.status.js.Communicator.createGlobalFunctionWithAlteration=function(e,b){if(e){var d="callback_"+Math.floor(Math.random()*10000);jQuery.globalEval("var "+d+"="+e);var a=d+"_m";var c="function "+a+"(response){ "+b+"	"+d+"(response);}";jQuery.globalEval(c)}return a};net.status.js.Communicator.sendJSON=function(b,d,c){b=OAuthUtilities.urlEncode(b);var a=net.status.js.PROXY+"?act=json&url="+b+"&callback="+d;if(c){a+="&isPost=1"}jQuery.getScript(a)};net.status.js.Communicator.buildObject=function(response,type,parentAPI){if(response instanceof Array){var users=[];for(item in response){users[item]=builtSingle(response[item],parentAPI)}return users}else{return builtSingle(response,parentAPI)}function builtSingle(data,parentAPI){var item;var addslashes=function(str){if(typeof str!="string"){return str}str=str.replace(/\\/g,"\\\\");str=str.replace(/\'/g,"\\'");str=str.replace(/\"/g,'\\"');str=str.replace(/\0/g,"\\0");return str};eval("item=new "+type+"()");jQuery.extend(item,data);if(item.api){item.construct(parentAPI)}return item}};net.status.js.APIBase=function(a){this.method=null;this.params=null;this.type=null;this.alteration="";this.auth=false;this.offlineError=null;this.additionalParams={};this.proxy=null;this.API=a;this.ready=function(g){if(this.auth){var d=this.alteration;this.alteration=null;this.API.communicator.requestAPI(this.method,this.getParamObject(this.params),this.type,g,d,this.proxy,this.API.instance_name);this.proxy=null}else{var e="if("+this.type+") response=net.status.js.Communicator.buildObject(response,'"+this.type+"',"+this.API.instance_name+");";var c=net.status.js.Communicator.createGlobalFunctionWithAlteration(g,e);var f=net.status.js.APIBase.getParamString(this.getParamObject(this.params));f+="callback="+c;var b=SN.endpoint+this.method;if(b.lastIndexOf("?")>=0){b+="&"+f}else{b+="?"+f}jQuery.getScript(b)}};this.count=function(b){this.additionalParams.count=b;return this};this.since=function(b){this.additionalParams.since_id=b;return this};this.max=function(b){this.additionalParams.max_id=b;return this};this.page=function(b){this.additionalParams.page=b;return this};this.getParamObject=function(c){var b={};for(index in c){if(!c[index]){continue}b[index]=c[index]}for(index in this.additionalParams){if(!this.additionalParams[index]){continue}b[index]=this.additionalParams[index]}return b};this.validateOnline=function(){if(!this.API.isConnected()){throw"You must be connected in order to use this method"}};this.api=function(b){this.API=b;return this}};net.status.js.APIBase.call=function(d,c,a){var b=new net.status.js.APIBase();b.construct();b.method=d;b.params=c;b.needAuth=(a)?true:false;b.API=this.parent;return b};net.status.js.APIBase.getParamString=function(a){var b="";for(item in a){b+=item+"="+a[item]+"&"}return b};net.status.js.User=function(){this.user_id=null;this.screen_name=null;this.id=null;this.API=null;this.construct=function(a){$.extend(this,new net.status.js.APIBase(a))};this.init=function(a){if(isNaN(a)){this.screen_name=a}else{this.user_id=a}this.id=a;this.method="/users/show.json";this.params={id:this.id};this.type="net.status.js.User"};this.favorites=function(){this.method="/favorites.json";this.params={id:this.screen_name};this.type="net.status.js.Status";return this};this.userTimeline=function(){this.method="/statuses/user_timeline.json";this.params=this.getUserParams();this.type="net.status.js.Status";return this};this.followers=function(){this.method="/statuses/followers.json";this.params=this.getUserParams();this.type="net.status.js.User";return this};this.friends=function(){this.method="/statuses/friends.json";this.params=this.getUserParams();this.type="net.status.js.User";return this};this.follow=function(){this.validateOnline();this.proxy="POST";this.auth=true;this.method="/friendships/create.json";this.params={id:this.id};this.type="net.status.js.User";return this};this.unfollow=function(){this.validateOnline();this.proxy="POST";this.auth=true;this.method="/friendships/destroy.json";this.params={id:this.id};this.type="net.status.js.User";return this};this.isFollowing=function(){this.validateOnline();this.method="/friendships/exists.json";this.params={user_b:this.id,user_a:net.status.js.User.current().screen_name};this.type="null";return this};this.isFriend=function(){this.validateOnline();this.method="/friendships/exists.json";this.params={user_a:this.id,user_b:net.status.js.User.current().screen_name};this.type="null";return this};this.isMutual=function(){this.validateOnline();this.auth=true;this.alteration="var isMutual=false;if(response.relationship && response.relationship.source.following && response.relationship.target.followed_by) {	isMutual=true;}response=isMutual;";this.method="/friendships/show.json";if(this.screen_name){this.params={source_screen_name:this.screen_name,target_screen_name:net.status.js.User.current().screen_name}}else{if(this.user_id){this.params={source_id:this.user_id,target_screen_name:net.status.js.User.current().screen_name}}}this.type="null";return this};this.block=function(){this.validateOnline();this.auth=true;this.proxy="POST";this.method="/blocks/create.json";this.params={id:this.id};this.type="null";return this};this.unblock=function(){this.validateOnline();this.proxy="POST";this.auth=true;this.method="/blocks/destroy.json";this.params={id:this.id};this.type="null";return this};this.directMessage=this.dm=function(a){return net.status.js.DirectMessage.send(this.id,a)};this.getUserParams=function(b){var a={screen_name:this.screen_name,user_id:this.user_id};jQuery.extend(a,b);return a}};net.status.js.User.find=function(b){if(!b){throw"Please enter an ID"}var a=new net.status.js.User();a.construct(this.parent);a.init(b);return a};net.status.js.User.findAll=function(a){console.error("Not Implemented Yet! Finding a API endpoing")};net.status.js.User.current=function(){var a=this.parent.currentUser;return a};net.status.js.CurrentUser=function(){this.construct=function(b){var a=new net.status.js.User();a.construct(b);$.extend(this,a)};this.directMessages=this.dms=this.receivedMessages=function(){this.validateOnline();this.proxy="POST";this.method="/direct_messages.json";this.type=null;return this};this.sentMessages=function(){this.validateOnline();this.proxy="POST";this.method="/direct_messages/sent.json";this.type=null;return this};this.homeTimeline=function(){this.validateOnline();this.method="/statuses/home_timeline.json";this.type="net.status.js.Status";return this};this.mentions=function(){this.validateOnline();this.method="/statuses/mentions.json";this.type="net.status.js.Status";return this};this.retweeting=function(){this.validateOnline();this.method="/statuses/retweeted_by_me.json";this.type="net.status.js.Status";return this};this.retweets=function(){this.validateOnline();this.method="/statuses/retweeted_to_me.json";this.type="net.status.js.Status";return this};this.retweeted=function(){this.validateOnline();this.method="/statuses/retweeted_of_me.json";this.type=null;return this};this.blocks=function(){this.validateOnline();this.method="/blocks/blocking.json";this.type="net.status.js.User";return this};this.logout=function(){return this.parent.logout()}};net.status.js.Status=function(){this.id=null;this.construct=function(a){$.extend(this,new net.status.js.APIBase(a))};this.init=function(a){this.construct();this.id=a;this.method="/statuses/show.json";this.params={id:this.id};this.type="net.status.js.Status";return this};this.retweet=function(){return this.retweet(this.id)};this.favorite=function(){return this.favorite(this.id)};this.unfavorite=function(){return this.unfavorite(this.id)};this.reply=function(a){return this.reply(a,this.id)};this.destroy=function(){this.proxy="POST";this.validateOnline();this.method="/statuses/destroy.json";this.params={id:this.id};this.type="net.status.js.Status";return this};this.retweets=function(){this.validateOnline();this.method="/statuses/retweets.json";this.params={id:this.id};this.type="net.status.js.Status";return this};this.retweeters=function(){this.validateOnline();this.method="/statuses/"+this.id+"/retweeted_by.json";this.params=null;this.type="net.status.js.User";return this};this.inReplyTo=function(){return net.status.js.User.find(this.in_reply_to_user_id)}};net.status.js.Status.find=function(b){var a=new net.status.js.Status();a.api(this.parent);a.init(b);return a};net.status.js.Status.update=function(c,a){var b=new net.status.js.APIBase(this.parent);b.proxy="POST";b.method="/statuses/update.json";var d={status:c};jQuery.extend(d,a);b.params=d;b.type="net.status.js.Status";return b};net.status.js.Status.publicTimeline=function(){var a=new net.status.js.APIBase(this.parent);a.method="/statuses/public_timeline.json";a.params=null;a.type="net.status.js.Status";return a};net.status.js.Status.retweet=function(a){var b=new net.status.js.APIBase(this.parent);b.validateOnline();b.proxy="POST";b.method="/statuses/retweet.json";b.params={id:a};b.type="net.status.js.Status";return b};net.status.js.Status.favorite=function(a){var b=new net.status.js.APIBase(this.parent);b.validateOnline();b.proxy="POST";b.method="/favorites/create/"+a+".json";b.type="net.status.js.Status";return b};net.status.js.Status.unfavorite=function(a){var b=new net.status.js.APIBase(this.parent);b.validateOnline();b.proxy="POST";b.method="/favorites/destroy/"+a+".json";b.type="net.status.js.Status";return b};net.status.js.Status.reply=function(b,a){return net.status.js.Status.update(b,{in_reply_to_status_id:a})};net.status.js.DirectMessage=function(){this.construct=function(a){$.extend(this,new net.status.js.APIBase(a))};this.destroy=function(){this.validateOnline();this.proxy="POST";this.method="/direct_messages/destroy/"+this.id+".format";this.type="net.status.js.DirectMessage";return this}};net.status.js.DirectMessage.send=function(a,c){var b=new net.status.js.APIBase(this.parent);b.validateOnline();b.proxy="POST";b.method="/direct_messages/new.json";b.params={user:a,text:c};b.type="net.status.js.DirectMessage";return b};net.status.js.Search=function(b){this.q="";this.API=b;this.additionalParams={};this.construct=function(c){$.extend(this,new net.status.js.APIBase(c))};this.next=function(){if(!this.next_page){a()}var c=new net.status.js.Search(this.API);c.method="/search.json"+this.next_page;c.type="net.status.js.Search";c.auth=false;return c};this.previous=function(){if(!this.previous_page){a()}var c=new net.status.js.Search(this.API);c.method="/search.json"+this.previous_page;c.type="net.status.js.Search";c.auth=false;return c};this.refresh=function(){var c=new net.status.js.Search(this.API);c.method="/search.json"+this.refresh_url;c.type="net.status.js.Search";c.auth=false;return c};this.rpp=function(c){this.additionalParams.rpp=c;return this};var a=function(){throw"There is no such search page to access"}};net.status.js.Search.query=function(b){var a=new net.status.js.Search();a.construct(this.parent);a.q=b;a.method="/search.json";a.type="net.status.js.Search";a.params={q:b};a.auth=false;return a};net.status.js.StatusNet=function(d){this.oauth=null;this.store=null;this.endpoint="http://me.arunoda.com/api";this.currentUser=null;var c=null;this.widgets={};this.NOT_INITIATED=10;this.START_INITIATING=20;this.INITIATING_COMPLETED=30;this.state=this.NOT_INITIATED;this.instance_name=d;var b=this;this.readyCallbacks=[];this.init=function(h,f){if(typeof jQuery=="undefined"){setTimeout(function(){b.init(h,f)},200);return}$.extend(this,new net.status.js.EventManager());this.initializeFields(h,f);if(location.href.search("oauth_token")>0){var e=this.oauth.getAccessTokenUrl();var g=OAuthUtilities.urlEncode(e);net.status.js.Communicator.sendJSON(g,this.instance_name+".handleInitCallback")}else{this.state=this.START_INITIATING;this.registerEvents();$(document).ready(function(){b.loadWidgets()});this.loadUser()}};this.handleInitCallback=function(f){var g=OAuth.parseToken(f);var e=this.store;e.setToken(g.oauth_token);e.setTokenSecret(g.oauth_token_secret);window.opener.SN.triggerEvent("oauthVerified");window.close()};this.initializeFields=function(f,e){this.store=new Store(this.instance_name);this.oauth=new OAuth(this.store);this.oauth.init(f,e,this.endpoint);this.communicator=new net.status.js.Communicator(this.oauth);this.ApiBase=net.status.js.APIBase;this.User=net.status.js.User;this.CurrentUser=net.status.js.CurrentUser;this.Status=net.status.js.Status;this.DirectMessage=net.status.js.DirectMessage;this.Search=net.status.js.Search;this.User.parent=this;this.CurrentUser.parent=this;this.Status.parent=this;this.DirectMessage.parent=this;this.Search.parent=this;this.ApiBase.parent=this};this.connect=function(){c=a("",550,650);c.document.write("wait...");c.document.close();var g=this.oauth.getRequestTokenUrl();var e=this.store;var f=this.oauth;net.status.js.Communicator.sendJSON(g,this.instance_name+".handleConnectCallback")};this.handleConnectCallback=function(f){var h=OAuth.parseToken(f);var e=this.store;e.setToken(h.oauth_token);e.setTokenSecret(h.oauth_token_secret);var g=this.oauth.getAuthorizationUrl();c.location.href=g};this.ready=function(e){if(location.href.search("oauth_token")>0){return}if(typeof jQuery=="undefined"){setTimeout(function(){b.ready(e)},200);return}if(this.state!=this.INITIATING_COMPLETED){this.readyCallbacks[this.readyCallbacks.length]=e}else{if(this.state==this.INITIATING_COMPLETED){$(document).ready(function(){e()})}else{alert("System is not initiated or failed to initiate")}}};this.loadUser=function(){if(!this.store.getToken()||!this.store.getTokenSecret()){this.currentUser=null;this.state=this.INITIATING_COMPLETED;this.triggerEvent("initiated")}else{var e=SN.oauth.getRequestAPIUrl("/account/verify_credentials.json",null);net.status.js.Communicator.sendJSON(e,this.instance_name+".handleLoadUserCallback")}};this.handleLoadUserCallback=function(e){this.state=this.INITIATING_COMPLETED;this.triggerEvent("initiated");if(e.screen_name){this.currentUser=net.status.js.Communicator.buildObject(e,this.instance_name+".CurrentUser",this);this.triggerEvent("loggedIn")}else{this.currentUser=null}};this.isConnected=function(){return(this.currentUser)?true:false};this.logout=function(){this.store.setToken(null);this.store.setTokenSecret(null);this.currentUser=null;this.triggerEvent("loggedOut");return true};this.registerEvents=function(){var f=net.status.js.Communicator.createDynamicFunction(this.instance_name+".loadUser(function(){});");this.registerEvent("oauthVerified",f);var e=this;this.registerEvent("initiated",function(){$(document).ready(function(){for(id in e.readyCallbacks){var g=e.readyCallbacks[id];g()}});e.deleteEvent("initiated","readyCallbacks")},"readyCallbacks")};this.loadWidgets=function(){for(index in this){var e=index;if(e.indexOf("loadWidget_")==0){this[index](this)}}};var a=function(f,g,e){var h=$(window).width();var n=$(window).height();var k=(n-e)/2;var j=(h-g)/2;var l=window.open(f,"Login","left="+j+",scrollbars=no,menubar=no,height="+e+",width="+g+",resizable=no,toolbar=no,location=,status=no");return l}};net.status.js.EventManager=function(){this.events=[];this.registerEvent=function(eventName,callback,uniqueName){if(!this.events[eventName]){this.events[eventName]=[]}if(uniqueName){this.events[eventName][uniqueName]=callback}else{this.events[eventName][this.events[eventName].length]=callback}};this.triggerEvent=function(eventName){var events=this.events[eventName];if(events){for(id in events){var func=events[id];if(typeof func=="string"){eval(func+"()")}else{if(func==null){continue}else{func()}}}}};this.deleteEvent=function(eventName,uniqueName){if(this.events[eventName]&&this.events[eventName][uniqueName]){this.events[eventName][uniqueName]=null}}};SnWidget=function(a){if(!a){throw"Widgets Class name should provided"}this.parentAPI;this.widgetClassname=a;this.init=function(b){this.parentAPI=b};this.configure=function(b){};this.callNext=function(d,b){var c="var obj=new "+this.widgetClassname+"();obj.init("+this.parentAPI.instance_name+");obj.configure("+JSON.encode(b)+");obj."+d+"(response);";var e=net.status.js.Communicator.createDynamicFunction(c);return e}};SnWidget.autoload=function(a,b){SnWidget.registerMethod("loadWidget_"+a,b)};SnWidget.registerMethod=function(name,func){eval("net.status.js.StatusNet.prototype."+name+"="+func)};SnWidget.registerData=function(name,data){eval("net.status.js.StatusNet.prototype."+name+"="+JSON.encode(data))};SnHoverCard=function(){$.extend(this,new SnWidget("SnHoverCard"));this.username="";this.getClassName=function(){return"SnHoverCard"};this.configure=function(data){this.username=data};this.show=function(event){this.displayHoverCard(event);var hovercard=this.getHovercard();if(hovercard&&hovercard.user){this.displayHoverCardInfo(hovercard.user);if(this.parentAPI.isConnected()){this.displayFriendInfo(hovercard.friendship)}return}var callback=this.callNext("showCallback",this.username);this.parentAPI.User.find(this.username).ready(callback)};this.showCallback=function(userObject){this.displayHoverCardInfo(userObject);this.save(userObject);if(this.parentAPI.isConnected()){var callback=this.callNext("showIsFriendCallback",this.username);this.parentAPI.User.find(this.username).isFollowing().ready(callback)}};this.showIsFriendCallback=function(friend){this.save(null,friend);this.displayFriendInfo(friend)};this.follow=function(){var callback=this.callNext("followCallback",this.username);this.parentAPI.User.find(this.username).follow().ready(callback)};this.followCallback=function(){this.save(null,true);this.displayFriendInfo(true)};this.unfollow=function(){var callback=this.callNext("unfollowCallback",this.username);this.parentAPI.User.find(this.username).unfollow().ready(callback)};this.unfollowCallback=function(resp){this.save(null,false);this.displayFriendInfo(false)};this.save=function(user,friendship){var hovercard=null;eval("hovercard=this.parentAPI.hovercards."+this.username+";");if(!hovercard){hovercard={}}if(user){hovercard.user=user}if(friendship!=undefined){hovercard.friendship=friendship}eval("this.parentAPI.hovercards."+this.username+"=hovercard")};this.getHovercard=function(){var hovercard=null;eval("hovercard=this.parentAPI.hovercards."+this.username+";");return hovercard};this.displayFriendInfo=function(friend){if(this.username==this.parentAPI.User.current().screen_name){$("#hovercard #actionBox").html("this is you!");return}if(friend){var action='SnHoverCard.get("'+this.username+'",'+this.parentAPI.instance_name+").unfollow();";$("#hovercard #actionBox").html("you subscribe - <a href='#' onclick='"+action+"'>UnSubscribe</a>")}else{loggedOut;var action='SnHoverCard.get("'+this.username+'",'+this.parentAPI.instance_name+").follow();";$("#hovercard #actionBox").html("you are not subscribing - <a href='#' onclick='"+action+"'>Subscribe</a>")}};this.displayHoverCard=function(event){$("#hovercard #actionBox").html("");$("#hovercard #avatar").html("<img src='' />");$("#hovercard #content #loading").show();var screenWidth=$(window).width();var screenHeight=$(window).height();var width=300;var height=$("#hovercard").height();var x=event.pageX-(width/2);var y=event.pageY-(height/2);if(x<0){x=10}if(y<0){y=10}if(x+width>screenWidth){x=screenWidth-width-10}if(y+height>screenHeight){y=screenHeight-height-10}$("#hovercard").css({top:y,left:x});$("#hovercard").show()};this.displayHoverCardInfo=function(user){var profileUrl=this.parentAPI.endpoint.replace("api","")+this.username;var atLink="<a target = '_blank' href = '"+profileUrl+"'>@"+this.username+"</a>";$("#hovercard #avatar img").attr("src",user.profile_image_url);$("#hovercard #personalInfo #name").text(user.name);$("#hovercard #personalInfo #profile").html(atLink);$("#hovercard #personalInfo #statuses").text(user.statuses_count);$("#hovercard #personalInfo #followers").text(user.followers_count);$("#hovercard #bio").text(user.description);$("#hovercard #status").text(user.status.text);$("#hovercard #content #loading").hide()}};SnHoverCard.HOVERCARD_STORE="hovercards";SnHoverCard.get=function(c,a){var b=new SnHoverCard();b.init(a);b.configure(c);return b};SnWidget.registerData(SnHoverCard.HOVERCARD_STORE,{});SnWidget.autoload("SnHovercard",function(api){var hovercard="<div id='hovercard' style='display: none'><div id='content'><div id='loading'>loading..</div><div id='dataBox'><div id='avatar'><img src='' /></div><div id='personalInfo'><div id='name'></div><div id='profile'>@arunoda</div><div id='info'><span id='statuses'>500</span> notices <span id='followers'>300</span> subscribers</div></div><div style='clear:both;'></div><div class='title'>Bio:</div><div id='bio'></div><div class='title'>Latest:</div><div id='status'></div></div><div id='actionBox'></div></div></div>";$("body").append(hovercard);$("#hovercard").mouseleave(function(){setTimeout(function(){$("#hovercard").hide()},400)});api.registerEvent("loggedIn",function(){eval("api."+SnHoverCard.HOVERCARD_STORE+" = {}")})});SnWidget.registerMethod("hovercards",function(d){var e=$(d).get();var b="";for(index in e){var f=$(e[index]).html();if(!f){continue}b=b+f.replace(/(@[\w]+)/g,"<a href='#' class='hoverlinks'>$1</a>")}$(d).html(b);var a=$(".hoverlinks").get();var c=this;for(index in a){$(a[index]).mouseenter(function(g){var h=$(this).text().substr(1);setTimeout(function(){SnHoverCard.get(h,c).show(g)},300)})}});function SnFollowButton(a){$.extend(this,new SnWidget("SnFollowButton"));this.username=a;this.configure=function(b){this.username=b};this.activate=function(){var f=this.username;var d=this.parentAPI;this.parentAPI.registerEvent("loggedOut",function(){var g=new SnFollowButton(f);g.init(d);g.activate()},"followButtonLogout");if(this.parentAPI.isConnected()){var e=this.callNext("activateCallback",this.username);this.parentAPI.User.find(this.username).isFollowing().ready(e)}else{var c=$("#snButton_"+this.username);var d=this.parentAPI;this.printFollow(c);c.unbind("click");var b=false;c.click(function(){d.connect();b=true});d.registerEvent("loggedIn",function(){var g=new SnFollowButton(f);g.init(d);g.activate();if(b){g.follow()}},"followButtonLoggedIn")}};this.activateCallback=function(b){var c=$("#snButton_"+this.username);if(b){this.printUnFollow(c);this.registerOnClick(false)}else{this.printFollow(c);this.registerOnClick(true)}};this.follow=function(){var b=this.callNext("followCallback",this.username);this.parentAPI.User.find(this.username).follow().ready(b)};this.followCallback=function(b){var c=$("#snButton_"+this.username);if(!b.error){this.printUnFollow(c);this.registerOnClick(false)}else{alert(b.error)}};this.unfollow=function(){var b=this.callNext("unfollowCallback",this.username);this.parentAPI.User.find(this.username).unfollow().ready(b)};this.unfollowCallback=function(b){var c=$("#snButton_"+this.username);var e=this.username;var d=this.parentAPI;if(!b.error){this.printFollow(c);this.registerOnClick(true)}else{alert(b.error)}};this.registerOnClick=function(d){var e=this.username;var c=this.parentAPI;var b=$("#snButton_"+e);b.unbind("click");b.click(function(){var f=new SnFollowButton(e);f.init(c);if(d){f.follow()}else{f.unfollow()}})};this.printFollow=function(b){b.html("Subscribe <em>@"+this.username+"</em>")};this.printUnFollow=function(b){b.html("UnSubscribe <em>@"+this.username+"</em>")}}SnWidget.registerMethod("subscribeButton",function(b,d){var c="<button class='snSubscribeButton' id='snButton_"+d+"'>loading...</button>";$("#"+b).html(c);var a=new SnFollowButton(d);a.init(this);a.activate()});function SnConnectButton(a){this.divId=a;$.extend(this,new SnWidget("SnConnectButton"));this.configure=function(b){this.divId=b};this.activate=function(){var b=$("#"+this.divId+" button");var c=this.parentAPI;if(this.parentAPI.isConnected()){b.text("Logout");b.unbind("click");b.click(function(){c.logout()})}else{b.text("Connect");b.unbind("click");b.click(function(){c.connect()})}this.registerEvents()};this.registerEvents=function(){var b=$("#"+this.divId+" button");var c=this.parentAPI;this.parentAPI.registerEvent("loggedIn",function(){b.text("Logout");b.unbind("click");b.click(function(){c.logout()})});this.parentAPI.registerEvent("loggedOut",function(){b.text("Connect");b.unbind("click");b.click(function(){c.connect()})})}}SnWidget.registerMethod("connectButton",function(b,d){var c="<button class = 'snButton' >loading...</button>";$("#"+b).html(c);var a=new SnConnectButton(b);a.init(this);a.activate()});var SN=new net.status.js.StatusNet("SN");SN.endpoint="<?php echo $this->endpoint; ?>";